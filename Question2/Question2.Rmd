---
title: "Paged HTML Document"
author: "NF Katzke"
date: "November 2021"
# date: "`r Sys.Date()`"
bibliography: Tex/ref.bib       # Do not edit: Keep this naming convention and location.
output:
  pagedown::html_paged:
    # template: wp_paged.html
    # css: ['wp.css', 'wp-fonts.css', 'wp-page.css']
    css: ["Template/default-fonts-Texevier.css", "Template/default-page-Texevier.css", "Template/default-Texevier.css"]
    csl: Template/harvard-stellenbosch-university.csl # referencing format used.
    template: ["Template/paged-Texevier.html"]

    toc: true
    # change to true for a self-contained document, but it'll be a litte slower for Pandoc to render
    self_contained: TRUE

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
options(dplyr.summarise.inform=F)
if(!require("tidyverse")) install.packages("tidyverse")
library(tidyverse)
library(ggplot2)
list.files('code/', full.names = T, recursive = T) %>% as.list() %>% walk(~source(.))
```



```{r}
#Load in data
weather <- read.csv("data/London/london_weather.csv")
View(weather)

#Change date column from integer to date column
library(lubridate)

weather <- transform(weather, date = as.Date(as.character(date), "%Y%m%d"))
df_weather <- weather
df_weather$date <- format(weather$date, format="%Y")

weather$date <- year(weather$date)

year(date)
weather$date <- format(weather$date, format="%Y")
weather <- transform(weather, date = as.Date(format="%Y"))
year(weather$date)
```

\newpage


Dear Friend, 

in order to persuate you to stay in sunny South Africa, let me present to you my findings about the London weather. 

```{r,  warning =  FALSE, fig.align = 'center', fig.cap = "Snow Depth in London.\\label{Figure1}", fig.ext = 'png', fig.height = 5, fig.width = 7}
g <- plot_snow(weather)
g
```
```{r,  warning =  FALSE, fig.align = 'center', fig.cap = "Sunshine in London in 2020.\\label{Figure2}", fig.ext = 'png', fig.height = 5, fig.width = 7}

g <- plot_sunshine(weather, xaxis_rows = 2, xaxis_size = 5)
g
#mention Covid, combine 2020 graphs in one 
```

```{r, warning =  FALSE, fig.align = 'center', fig.cap = "Rain in London.\\label{Figure3}", fig.ext = 'png', fig.height = 5, fig.width = 7}
g <- plot_precipitation(df_weather, xaxis_rows = 2, xaxis_size = 5)
g

```

```{r, warning =  FALSE, fig.align = 'center', fig.cap = "Temperature in London.\\label{Figure4}", fig.ext = 'png', fig.height = 5, fig.width = 7}
g <- plot_temp(df_weather, xaxis_rows = 2, xaxis_size = 5)
g
#average annual temp in cape town 22 degrees, in London 12.4 degrees
```




